<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recherche de film</title>
</head>
<body>
    <h1>Recherche de film</h1>
    <input type="text" id="filmName" placeholder="Entrez le nom du film">
    <button onclick="searchFilm()">Rechercher</button>
    <div id="result"></div>

    <script>
        function searchFilm() {
            const filmName = document.getElementById("filmName").value;
            if (!filmName) {
                alert("Veuillez entrer un nom de film !");
                return;a
            }

            fetch(`/film/${encodeURIComponent(filmName)}`)
                .then(response => response.json())
                .then(data => {
                    if (data.error) {
                        document.getElementById("result").innerHTML = `<p style="color: red;">${data.error}</p>`;
                    } else {
                        document.getElementById("result").innerHTML = `
                            <h2>${data.filmName}</h2>
                            <p><strong>Titre alternatif :</strong> ${data.filmName2}</p>
                            <p><strong>Réalisateur :</strong> ${data.director}</p>
                            <p><strong>Résumé :</strong> ${data.summary}</p>
                            <p><strong>Acteurs :</strong> ${data.actors.join(", ")}</p>
                            <p><strong>Affiche :</strong> <br><img src="${data.posterLink}" alt="Affiche" width="200"></p>
                            <p><a href="${data.filmLink}" target="_blank">Voir le film</a></p>
                        `;
                    }
                })
                .catch(error => {
                    console.error("Erreur :", error);
                    document.getElementById("result").innerHTML = `<p style="color: red;">Erreur lors de la requête.</p>`;
                });
        }
    </script>
</body>
</html>
